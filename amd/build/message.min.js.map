{"version":3,"file":"message.min.js","sources":["../src/message.js"],"sourcesContent":["import {BaseComponent} from 'core/reactive';\n\n/**\n * Component representing a column in a kanban board.\n */\nexport default class extends BaseComponent {\n\n    /**\n     * Function to initialize component, called by mustache template.\n     * @param {*} target The id of the HTMLElement to attach to\n     * @returns {BaseComponent} New component attached to the HTMLElement represented by target\n     */\n    static init(target) {\n        let element = document.querySelector(target);\n        return new this({\n            element: element,\n        });\n    }\n\n    create() {\n        this.id = this.element.dataset.block_ai_chatMessageid;\n    }\n\n    /**\n     * Watchers for this component.\n     * @returns {array}\n     */\n    getWatchers() {\n        return [\n            {watch: `config.loadingState:updated`, handler: this._removeTemporaryMessage.bind(this)},\n/*            {watch: `columns[${this.id}]:updated`, handler: this._columnUpdated},\n            {watch: `columns[${this.id}]:deleted`, handler: this._columnDeleted},\n            {watch: `cards:created`, handler: this._cardCreated}*/\n        ];\n    }\n\n    destroy() {\n        this.getElement().remove();\n    }\n\n    _removeTemporaryMessage({element}) {\n        if (element.loadingState) {\n            return;\n        }\n        if (this.id !== 'temporaryprompt' && this.id !== 'loadingspinner') {\n            return;\n        }\n        this.destroy();\n    }\n\n}\n"],"names":["BaseComponent","target","this","element","document","querySelector","create","id","dataset","block_ai_chatMessageid","getWatchers","watch","handler","_removeTemporaryMessage","bind","destroy","getElement","remove","loadingState"],"mappings":"gMAK6BA,oCAObC,eAED,IAAIC,KAAK,CACZC,QAFUC,SAASC,cAAcJ,UAMzCK,cACSC,GAAKL,KAAKC,QAAQK,QAAQC,uBAOnCC,oBACW,CACH,CAACC,oCAAsCC,QAASV,KAAKW,wBAAwBC,KAAKZ,QAO1Fa,eACSC,aAAaC,SAGtBJ,kCAAwBV,QAACA,cACjBA,QAAQe,cAGI,oBAAZhB,KAAKK,IAAwC,mBAAZL,KAAKK,SAGrCQ"}