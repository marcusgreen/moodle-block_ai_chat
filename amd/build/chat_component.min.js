define("block_ai_chat/chat_component",["exports","core/reactive"],(function(_exports,_reactive){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;class ChatComponent extends _reactive.BaseComponent{create(){this.name="ChatComponent",this.selectors={MESSAGES:"[data-block_ai_chat-element='messages']",PERSONABANNER:"[data-block_ai_chat-element='personabanner']",PERSONA_UPDATE_BUTTON:"[data-block_ai_chat-element='personaupdatebutton']"}}stateReady(state){console.log(state),this.addEventListener(this.getElement(this.selectors.PERSONA_UPDATE_BUTTON),"click",this._putPersonaListener),this._refreshMessages({element:state}),this._refreshPersona({element:state})}getWatchers(){return[{watch:"state.messages:updated",handler:this._refreshMessages},{watch:"state.currentPersona:updated",handler:this._refreshPersona}]}_refreshMessages(_ref){let{element:element}=_ref;console.log(element)}_refreshPersona(_ref2){let{element:element}=_ref2;console.log(element),console.log(element.currentPersona),console.log("PERSONA WIRD REFRESHED"),console.log(this.getElement(this.selectors.PERSONABANNER)),this.getElement(this.selectors.PERSONABANNER).innerText="userFacedText: ".concat(element.currentPersona.userFacedText)}_putPersonaListener(){event.preventDefault(),console.log("Firing the event");this.reactive.dispatch("putPersona",21,{userid:0,name:"new name",prompt:"New prompt",userinfo:"Das ist eine neue persona"})}}var _default=ChatComponent;return _exports.default=_default,_exports.default}));

//# sourceMappingURL=chat_component.min.js.map